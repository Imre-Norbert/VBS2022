/************************************************************************************************************************************************************************************************************
************************************************************************************** I N C L U D E S ******************************************************************************************************
************************************************************************************************************************************************************************************************************/

#include <TM1637.h>
#include <avr/io.h>

/************************************************************************************************************************************************************************************************************/

/************************************************************************************************************************************************************************************************************
************************************************************************************** D E F I N E S ********************************************************************************************************
************************************************************************************************************************************************************************************************************/

/* This is used to set the output[pin2 on the ic] of the attiny HIGH or LOW, to address the PORTB register
   This pin is connected to the CLK input pin of the HW-069*/
#define ub_CLK_PIN (uint8_t) 3
/* This is used to set the output[pin3 on the ic] of the attiny HIGH or LOW, to address the PORTB register
   This pin is connected to the DIO input pin of the HW-069*/ 
#define ub_CLK_DIO (uint8_t) 4

/* This is used to read the supply voltage, ADC1 10bit [pin7 on the ic]*/
#define ub_VOLTAGE_MEASUREMENT (uint8_t) 2

/* Maximum Voltage to be measured is 30V, so 1 bit = 0.0293V */
#define float_VOLT_PER_BIT (float) 0.0293

/************************************************************************************************************************************************************************************************************/

/************************************************************************************************************************************************************************************************************
***************************************************************************** G L O B A L    V A R I A B L E S **********************************************************************************************
************************************************************************************************************************************************************************************************************/

/* Create an instance of 7segment display, this function also set-s the pins to OUTPUT */
TM1637 tm1637( ub_CLK_PIN, ub_CLK_DIO );

/************************************************************************************************************************************************************************************************************/

/************************************************************************************************************************************************************************************************************
**************************************************************************** F U N C T I O N D    E C L A R A T I O N S *************************************************************************************
************************************************************************************************************************************************************************************************************/



/************************************************************************************************************************************************************************************************************/

void setup() 
{
  /* Initialize the object */
  tm1637.init();
  
  /* Set the 7 segment LED-s brightness */
  tm1637.set( BRIGHT_TYPICAL );

  /* Set the ADC1 pin to INPUT */
  pinMode( ub_VOLTAGE_MEASUREMENT, INPUT );
}


void loop() 
{
 
}
